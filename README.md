# Twelve Transfer Modelling

![Python](https://img.shields.io/badge/Python-3.12-blue)
![Plotly](https://img.shields.io/badge/Plotly-5.22-purple)
![scikit-learn](https://img.shields.io/badge/scikit--learn-1.3+-orange)
![License](https://img.shields.io/badge/License-MIT-green)

Master thesis project: analysing football player transfers using **Twelve Football (Wyscout)** and **Transfermarkt** data.

## Data Setup

Place raw data files in your `thesis_data/raw_data/` directory:

```
thesis_data/
├── raw_data/
│   ├── Teams_stats/team_stats_season.parquet
│   ├── Transfers/male_transfer_model.parquet
│   ├── Transfers/transfers_same_competitions_data.parquet
│   ├── Wyscout/competitions_wyscout.parquet
│   └── Wyscout/players_wyscout.parquet
└── processed_data/   ← auto-generated by notebooks
```

## Project Structure

```
twelve-transfer-modelling/
├── clustering/
│   ├── team_dna/                         ← Team tactical analysis (split for performance)
│   │   ├── 01_compute_team_styles.ipynb     Quality scores for all teams
│   │   ├── 02_tactical_profiles.ipynb       Dot-strip profiles + K-Means families
│   │   ├── 03_epl_landscape.ipynb           EPL heatmap, UMAP, evolution
│   │   └── figures/                         PNGs saved here (not in notebook)
│   └── player_archetypes.ipynb           ← Player sub-role clustering
├── data_processing/                      ← Data cleaning notebooks
├── first_data_review/                    ← Exploratory analysis
├── scripts/                              ← Utility scripts
├── streamlit_app/                        ← Interactive dashboard
└── archive/                              ← Previous iterations
```

## Running Order

Run notebooks in this sequence:

### 1. Data Processing
```
data_processing/01_master_dataset_build.ipynb
```

### 2. Team Tactical DNA (run in order)
```
clustering/team_dna/01_compute_team_styles.ipynb   → computes quality scores
clustering/team_dna/02_tactical_profiles.ipynb     → profiles + clustering + families
clustering/team_dna/03_epl_landscape.ipynb         → EPL analysis + UMAP + evolution
```

### 3. Player Archetypes
```
clustering/player_archetypes.ipynb
```

## Key Outputs

| File | Description |
|------|-------------|
| `team_qualities.parquet` | 6+1 tactical quality z-scores per team-season |
| `team_style_clusters.parquet` | Team-seasons with K-Means family assignments |
| `player_archetypes.parquet` | Player-seasons with archetype + GMM probabilities |

## Visualisation Style

Team charts use the **Twelve Football dot-strip** style:
- Dark background, each dot = one team-season from world football
- Highlighted dot = focus team/family
- **Bipolar dimension labels** show what each side of the scale means (e.g., *Low Block ← Defence → High Press*)
- All heavy charts saved as PNG to `figures/` to keep notebooks lightweight

## Requirements

```
pip install -r requirements.txt
```
